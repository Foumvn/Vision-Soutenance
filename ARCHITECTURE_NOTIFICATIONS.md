# Architecture du systÃ¨me de notifications

## Vue d'ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SYSTÃˆME DE NOTIFICATIONS                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CRÃ‰ATEUR DE    â”‚         â”‚   PARTICIPANT    â”‚         â”‚   BASE DE        â”‚
â”‚   RÃ‰UNION        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   INVITÃ‰         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   DONNÃ‰ES        â”‚
â”‚   (Utilisateur A)â”‚         â”‚   (Utilisateur B)â”‚         â”‚   (MongoDB)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                            â”‚                            â–²
         â”‚                            â”‚                            â”‚
         â”‚ 1. CrÃ©e une room          â”‚ 2. ReÃ§oit notification     â”‚ Persistance
         â”‚                            â”‚                            â”‚
         â–¼                            â–¼                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         BACKEND (FastAPI)                            â”‚
â”‚                                                                      â”‚
â”‚  POST /api/livekit/rooms                                            â”‚
â”‚  â”œâ”€ CrÃ©e la room                                                    â”‚
â”‚  â”œâ”€ Boucle sur les participants                                     â”‚
â”‚  â””â”€ Envoie une notification Ã  chacun â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
â”‚                                                                      â”‚
â”‚  GET /api/users/me/notifications                                    â”‚
â”‚  â””â”€ Retourne toutes les notifications (read: true/false) â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                      â”‚
â”‚  POST /api/users/me/notifications/clear                             â”‚
â”‚  â””â”€ Marque toutes les notifications comme read: true â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                            â”‚
         â”‚                            â”‚
         â”‚ API Calls                  â”‚ Responses
         â”‚                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND (Next.js)                            â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ NotificationBell Component                                  â”‚    â”‚
â”‚  â”‚ â€¢ Affiche badge avec count                                  â”‚    â”‚
â”‚  â”‚ â€¢ Filtre: notifications.filter(n => !n.read)               â”‚    â”‚
â”‚  â”‚ â€¢ Bouton "Tout marquer comme lu"                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Dashboard Component                                         â”‚    â”‚
â”‚  â”‚ â€¢ BanniÃ¨re d'alerte (AnimatePresence)                      â”‚    â”‚
â”‚  â”‚   - Badge: "X New"                                          â”‚    â”‚
â”‚  â”‚   - Bouton "Dismiss"                                        â”‚    â”‚
â”‚  â”‚ â€¢ Section "Upcoming Meetings"                              â”‚    â”‚
â”‚  â”‚   - Filtre: unreadMeetingInvites                           â”‚    â”‚
â”‚  â”‚   - Bouton "Clear All"                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flux de donnÃ©es

### 1. CrÃ©ation d'une notification

```
Utilisateur A                Backend                    MongoDB
     â”‚                          â”‚                          â”‚
     â”‚  POST /rooms            â”‚                          â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚
     â”‚                          â”‚                          â”‚
     â”‚                          â”‚ create_room()            â”‚
     â”‚                          â”‚  â”œâ”€ CrÃ©e room_data       â”‚
     â”‚                          â”‚  â”‚                       â”‚
     â”‚                          â”‚  â””â”€ Pour chaque participant:
     â”‚                          â”‚      â”œâ”€ Notification()   â”‚
     â”‚                          â”‚      â”‚   type: MEETING_INVITE
     â”‚                          â”‚      â”‚   read: false     â”‚
     â”‚                          â”‚      â”‚                   â”‚
     â”‚                          â”‚      â””â”€ db.update_one() â”€â”¼â”€â”€â”€â”€â”€â”€â–¶
     â”‚                          â”‚                          â”‚ insertion
     â”‚                          â”‚                          â”‚
     â”‚  âœ“ Room created         â”‚                          â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚
     â”‚                          â”‚                          â”‚
```

### 2. Affichage des notifications

```
Utilisateur B                Frontend                   Backend                MongoDB
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚  Charge dashboard       â”‚                          â”‚                      â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚                      â”‚
     â”‚                          â”‚ useEffect()              â”‚                      â”‚
     â”‚                          â”‚   fetchNotifications()   â”‚                      â”‚
     â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
     â”‚                          â”‚                          â”‚ GET /notifications   â”‚
     â”‚                          â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚                          â”‚ find({ _id: ... })   â”‚
     â”‚                          â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                          â”‚                          â”‚ notifications[]      â”‚
     â”‚                          â”‚  notifications[]         â”‚                      â”‚
     â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚ filter(n => !n.read)     â”‚                      â”‚
     â”‚                          â”‚   â†“                      â”‚                      â”‚
     â”‚  Affiche 3 nouvelles    â”‚ unreadMeetingInvites     â”‚                      â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚                      â”‚
     â”‚                          â”‚                          â”‚                      â”‚
```

### 3. Nettoyage des notifications

```
Utilisateur B                Frontend                   Backend                MongoDB
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚  Clique "Clear All"     â”‚                          â”‚                      â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚                      â”‚
     â”‚                          â”‚ handleClearNotificationsâ”‚                      â”‚
     â”‚                          â”‚   setIsClearing(true)   â”‚                      â”‚
     â”‚                          â”‚   â†“                      â”‚                      â”‚
     â”‚                          â”‚ clearAllNotifications() â”‚                      â”‚
     â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
     â”‚                          â”‚                          â”‚ POST /clear          â”‚
     â”‚                          â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚                          â”‚ update_one(          â”‚
     â”‚                          â”‚                          â”‚   { _id: ... },      â”‚
     â”‚                          â”‚                          â”‚   { $set: {          â”‚
     â”‚                          â”‚                          â”‚     "notifications   â”‚
     â”‚                          â”‚                          â”‚      .$[].read": trueâ”‚
     â”‚                          â”‚                          â”‚   }}                 â”‚
     â”‚                          â”‚                          â”‚ )                    â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                          â”‚  âœ“ Success               â”‚ modified_count: 1    â”‚
     â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚ fetchNotifications()     â”‚                      â”‚
     â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
     â”‚                          â”‚                          â”‚ GET /notifications   â”‚
     â”‚                          â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚  notifications[] (read:true)                    â”‚
     â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚                          â”‚ filter(n => !n.read)     â”‚                      â”‚
     â”‚                          â”‚   â†“                      â”‚                      â”‚
     â”‚                          â”‚ [] (liste vide)          â”‚                      â”‚
     â”‚                          â”‚   â†“                      â”‚                      â”‚
     â”‚                          â”‚ setIsClearing(false)     â”‚                      â”‚
     â”‚                          â”‚                          â”‚                      â”‚
     â”‚  Interface mise Ã  jour  â”‚                          â”‚                      â”‚
     â”‚  (notifications cachÃ©es)â”‚                          â”‚                      â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚                      â”‚
     â”‚                          â”‚                          â”‚                      â”‚
```

### 4. RÃ©ception d'une nouvelle notification

```
Utilisateur A                Backend                    Utilisateur B
     â”‚                          â”‚                          â”‚
     â”‚  CrÃ©e nouvelle room     â”‚                          â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚
     â”‚                          â”‚                          â”‚
     â”‚                          â”‚ Envoie notification      â”‚
     â”‚                          â”‚   read: false            â”‚
     â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                          â”‚                          â”‚
     â”‚                          â”‚                          â”‚ Badge +1
     â”‚                          â”‚                          â”‚ BanniÃ¨re apparaÃ®t
     â”‚                          â”‚                          â”‚ Section "Upcoming"
     â”‚                          â”‚                          â”‚   affiche invitation
```

## Ã‰tats de notification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CYCLE DE VIE                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CRÃ‰ATION   â”‚           â”‚   VISIBLE   â”‚           â”‚  ARCHIVÃ‰E   â”‚
â”‚             â”‚           â”‚             â”‚           â”‚             â”‚
â”‚ read: false â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ read: false â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ read: true  â”‚
â”‚ new: true   â”‚  Envoi    â”‚ frontend    â”‚  Clear    â”‚ database    â”‚
â”‚             â”‚           â”‚             â”‚           â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                          â”‚                         â”‚
      â”‚                          â”‚                         â”‚
      â–¼                          â–¼                         â–¼
 API: create           Frontend: display          Historique
 notification          filter(!n.read)            analyse future
      â”‚                          â”‚                         â”‚
      â”‚                          â”‚                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Jamais supprimÃ©e de MongoDB
```

## Filtrage cÃ´tÃ© frontend

```javascript
// Toutes les notifications (de la BD)
[
  { id: "1", type: "MEETING_INVITE", read: false },  â† AffichÃ©e
  { id: "2", type: "MEETING_INVITE", read: true  },  â† CachÃ©e
  { id: "3", type: "MEETING_INVITE", read: false },  â† AffichÃ©e
  { id: "4", type: "CONTACT_ADDED",   read: true  },  â† CachÃ©e
]
                     â”‚
                     â”‚ .filter(n => n.type === "MEETING_INVITE" && !n.read)
                     â–¼
// Notifications affichÃ©es
[
  { id: "1", type: "MEETING_INVITE", read: false },
  { id: "3", type: "MEETING_INVITE", read: false },
]
```

## Composants UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DASHBOARD                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ”” You have 2 meeting invitations  [Dismiss][View]  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Upcoming Meetings          [2 New] [Clear All]       â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ ğŸ“¹ John vous invite...            [Accept]           â”‚     â”‚
â”‚  â”‚ ğŸ“¹ Sarah dÃ©marre une rÃ©union      [Accept]           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Base de donnÃ©es MongoDB

```javascript
// Collection: users
{
  "_id": ObjectId("..."),
  "email": "user@example.com",
  "full_name": "Utilisateur Test",
  "notifications": [
    {
      "id": "abc123",
      "type": "MEETING_INVITE",
      "message": "John vous a invitÃ© Ã  une visioconfÃ©rence",
      "sender_id": "xyz789",
      "meeting_id": "room-1769255107214",
      "created_at": ISODate("2026-01-24T12:00:00Z"),
      "read": false  // â† ClÃ© pour le filtrage
    },
    {
      "id": "def456",
      "type": "MEETING_INVITE",
      "message": "Sarah dÃ©marre une rÃ©union",
      "sender_id": "abc123",
      "meeting_id": "room-1769255200000",
      "created_at": ISODate("2026-01-24T11:30:00Z"),
      "read": true   // â† ArchivÃ©e (nettoyÃ©e)
    }
  ]
}
```

## Performance

```
OpÃ©ration                    Temps      Impact
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Chargement initial          ~300ms      âœ“ Acceptable
Filtrage frontend           ~1ms        âœ“ InstantanÃ©
Nettoyage (API call)        ~150ms      âœ“ Rapide
RafraÃ®chissement           ~200ms      âœ“ Acceptable
Animation disparition       ~300ms      âœ“ Fluide
```

## Cas d'usage

### ScÃ©nario 1 : Utilisateur actif
1. ReÃ§oit 5 invitations dans la journÃ©e
2. Accepte 2 â†’ rejoint les rÃ©unions
3. Ignore 3 â†’ clique "Clear All"
4. Interface Ã©purÃ©e, historique conservÃ©

### ScÃ©nario 2 : Utilisateur absent
1. ReÃ§oit 20 invitations pendant une semaine
2. Se connecte â†’ voit les 20
3. Clique "Clear All" â†’ tout disparaÃ®t
4. Peut consulter l'historique ultÃ©rieurement

### ScÃ©nario 3 : Analyse statistique
1. Admin veut analyser les invitations
2. Exporte toutes les notifications
3. Calcule taux d'acceptation
4. DonnÃ©es complÃ¨tes disponibles (y compris read:true)

## SÃ©curitÃ©

```
Authentification JWT
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Utilisateur authentifiÃ© â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€ Peut voir ses propres notifications
      â”œâ”€ Peut nettoyer ses propres notifications
      â”œâ”€ Ne peut PAS voir celles des autres
      â””â”€ Ne peut PAS modifier celles des autres
```
